{% load static %}
{% load bootstrap5 %}
<html>

  <head>
    <title>Bakery Finder</title>
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="..." crossorigin="anonymous">
    <script src="{% static 'index.js' %}" defer></script>
     <link rel="stylesheet" href="{% static 'styles.css' %}">
  </head>
  <body>
    <div>

    <header>
      <h1>ğŸ§ Bakery Finder</h1>
    </header>
</div>
    <main>
      <p>Need to find a bakery in a hurry? Here's a list of bakeries in your local area:</p>
      
    
  {% for bakery in bakeries %}
<article>

  <!-- CLICKABLE BAKERY NAME -->
  <h2 style="cursor:pointer;" onclick="toggleItems('items-{{ bakery.id }}')">
    {{ bakery.name }}
  </h2>

  <p class="description">{{ bakery.cuisine }}</p>
  <p>Located at: {{ bakery.address|linebreaksbr }}</p>
  <p>Rating â­: {{ bakery.rating }}</p>

</article>

<!-- ITEMS (HIDDEN BY DEFAULT) -->
<div id="items-{{ bakery.id }}" style="display:none; margin-left:20px;">

  <table class="table table-hover">
    {% for item in bakery.item_set.all %}
    <tr >
      <td>{{ item.name }}</td>
      <td>${{ item.price }}</td>
      <td>
        <a href="{{ item.image }}" target="_blank">
          <img src="{{ item.image }}" width="100">
        </a>
      </td>
    </tr>
    {% endfor %}
  </table>

</div>

{% empty %}
<p>No bakeries found.</p>
{% endfor %}

</div>
    <button class="btn btn-secondary" onclick="window.location.href='{% url 'admin:index' %}'">Create a new Bakery</button>

    </main>

    <footer>
      <p>Â© 2025 Bakery Finder</p>
    </footer>
  </body>
</html>